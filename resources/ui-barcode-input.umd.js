(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".nrdb-ui-barcode-input[data-v-3d41443f]{width:100%}.nrdb-ui-barcode-input.barcode :deep(.v-field){border-radius:9999px;box-shadow:0 0 0 2px #0094ce40;padding-inline:8px}.nrdb-ui-barcode-input.barcode :deep(input.v-field__input){font-size:18px;letter-spacing:.08em}.nrdb-ui-barcode-input.barcode .barcode-icon{font-size:20px;color:#0094cecc;margin-right:4px}")),document.head.appendChild(e)}}catch(d){console.error("vite-plugin-css-injected-by-js",d)}})();
(function(o,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("vuex"),require("vue")):typeof define=="function"&&define.amd?define(["exports","vuex","vue"],r):(o=typeof globalThis<"u"?globalThis:o||self,r(o["ui-barcode-input"]={},o.vuex,o.Vue))})(this,function(o,r,d){"use strict";const s=(e,t)=>{const i=e.__vccOpts||e;for(const[a,c]of t)i[a]=c;return i},l={name:"UIBarcodeInput",inject:["$socket","$dataTracker"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})},state:{type:Object,default:()=>({})}},data(){return{value:""}},computed:{...r.mapState("data",["messages"]),label(){return this.getProperty("label")||"Barcode"},placeholder(){return this.getProperty("placeholder")||"Scan barcode..."},clearOnSend(){return this.getProperty("clearOnSend")!==!1},icon(){const e=this.getProperty("icon")||"barcode";return e?`mdi-${e}`:null},iconPosition(){return this.getProperty("iconPosition")||"left"},iconInnerPosition(){return this.getProperty("iconInnerPosition")||"inside"}},created(){this.$dataTracker(this.id,this.onInput,this.onLoad,this.onDynamicProperties)},mounted(){this.focusBarcode=()=>{this.$refs.inputField&&this.$refs.inputField.focus()},this.$nextTick(()=>{this.focusBarcode()}),document.addEventListener("click",this.focusBarcode,!0)},beforeUnmount(){this.focusBarcode&&document.removeEventListener("click",this.focusBarcode,!0)},methods:{getProperty(e){if(this.props&&typeof this.props[e]<"u")return this.props[e]},onBlur(){this.$nextTick(()=>{this.focusBarcode()})},onEnter(){this.value&&this.value.trim()!==""&&(this.send({payload:this.value.trim()}),this.clearOnSend&&(this.value=""))},onChange(){},send(e){this.$socket.emit("widget-action",this.id,e)},onInput(e){e&&typeof e.payload<"u"&&(this.value=e.payload),this.$store.commit("data/bind",{widgetId:this.id,msg:e})},onLoad(e,t){e&&typeof e.payload<"u"&&(this.value=e.payload)},onDynamicProperties(e){const t=e.ui_update;if(!t)return;const i={};typeof t.label<"u"&&(i.label=t.label),typeof t.placeholder<"u"&&(i.placeholder=t.placeholder),typeof t.clearOnSend<"u"&&(i.clearOnSend=t.clearOnSend),Object.keys(i).length>0&&this.setDynamicProperties(i)},setDynamicProperties(e){Object.assign(this.props,e)}}},u={class:"nrdb-ui-barcode-input barcode"};function p(e,t,i,a,c,n){const h=d.resolveComponent("v-text-field");return d.openBlock(),d.createElementBlock("div",u,[d.createVNode(h,{ref:"inputField",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=y=>c.value=y),label:n.label,placeholder:n.placeholder,"prepend-icon":n.iconPosition==="left"&&n.iconInnerPosition==="outside"?n.icon:null,"prepend-inner-icon":n.iconPosition==="left"&&n.iconInnerPosition==="inside"?n.icon:null,"append-icon":n.iconPosition==="right"&&n.iconInnerPosition==="outside"?n.icon:null,"append-inner-icon":n.iconPosition==="right"&&n.iconInnerPosition==="inside"?n.icon:null,variant:"outlined",density:"compact","hide-details":"auto",clearable:"",onKeyup:d.withKeys(n.onEnter,["enter"]),onInput:n.onChange,onBlur:n.onBlur},null,8,["modelValue","label","placeholder","prepend-icon","prepend-inner-icon","append-icon","append-inner-icon","onKeyup","onInput","onBlur"])])}const f=s(l,[["render",p],["__scopeId","data-v-3d41443f"]]);o.UIBarcodeInput=f,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
